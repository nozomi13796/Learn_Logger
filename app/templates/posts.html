{% extends "base.html" %}
{% block title %}My Learning Log - Posts{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; margin-top: 30px;">

  <h2>Your Posts</h2>

  {% for i in posts %}
  <div style="border: 1px solid #ddd; border-radius: 6px; padding: 20px; margin-bottom: 20px;">

    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h3 style="margin: 0;">{{ i.title }}</h3>

      <div>
        <a href="{{ url_for('blog.update_post', pid=i.pid) }}" class="btn btn-sm btn-primary">Edit</a>
        <a href="{{ url_for('blog.delete_post', pid=i.pid) }}" class="btn btn-sm btn-danger">Delete</a>
      </div>
    </div>

    <div style="margin-top: 10px; color: #666;">
      BY: {{ i.user.username }}
    </div>

    <div style="margin-top: 15px;">
      {{ i.description | markdown | safe }}
    </div>

    <div style="margin-top: 15px; text-align: right;">
      <small class="text-muted">{{ i.created_at }}</small>
    </div>
  </div>
  {% endfor %}

</div>
{% endblock %}
